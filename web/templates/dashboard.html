{% extends "base.html" %}

{% block title %}Dashboard - App Automatic Screening{% endblock %}

{% block content %}
<div class="container-fluid p-0">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 col-lg-2 px-0">
            <div class="card card-custom h-100">
                <div class="card-body">
                    <div class="text-center mb-4">
                        <i class="fas fa-robot fa-2x text-primary mb-2"></i>
                        <h5 class="logo-text mb-0">App Screening</h5>
                        <small class="text-muted">Dashboard</small>
                    </div>
                    
                    <nav class="nav flex-column">
                        <a class="nav-link active" href="#" data-tab="overview">
                            <i class="fas fa-tachometer-alt me-2"></i>Resumen
                        </a>
                        <a class="nav-link" href="#" data-tab="research">
                            <i class="fas fa-search me-2"></i>Investigaciones
                        </a>
                        <a class="nav-link" href="#" data-tab="articles">
                            <i class="fas fa-file-alt me-2"></i>Artículos
                        </a>
                        <a class="nav-link" href="#" data-tab="models">
                            <i class="fas fa-brain me-2"></i>Modelos
                        </a>
                        <hr>
                        <a class="nav-link text-danger" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión
                        </a>
                    </nav>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="col-md-9 col-lg-10">
            <div class="card card-custom h-100">
                <div class="card-header bg-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Bienvenido, <span id="username"></span></h4>
                        <div class="text-muted">
                            <i class="fas fa-clock me-1"></i>
                            <span id="currentTime"></span>
                        </div>
                    </div>
                </div>
                
                <div class="card-body">
                    <!-- Overview Tab -->
                    <div id="overview-tab" class="tab-content active">
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <div class="card bg-primary text-white">
                                    <div class="card-body text-center">
                                        <i class="fas fa-search fa-2x mb-2"></i>
                                        <h4 id="researchCount">0</h4>
                                        <small>Investigaciones</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="card bg-success text-white">
                                    <div class="card-body text-center">
                                        <i class="fas fa-file-alt fa-2x mb-2"></i>
                                        <h4 id="articlesCount">0</h4>
                                        <small>Artículos</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="card bg-warning text-white">
                                    <div class="card-body text-center">
                                        <i class="fas fa-tags fa-2x mb-2"></i>
                                        <h4 id="labeledCount">0</h4>
                                        <small>Etiquetados</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="card bg-info text-white">
                                    <div class="card-body text-center">
                                        <i class="fas fa-brain fa-2x mb-2"></i>
                                        <h4 id="modelsCount">0</h4>
                                        <small>Modelos</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-12">
                                <h5>Actividad Reciente</h5>
                                <div class="list-group" id="recentActivity">
                                    <div class="list-group-item">
                                        <i class="fas fa-info-circle me-2 text-muted"></i>
                                        Cargando actividad reciente...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Research Tab -->
                    <div id="research-tab" class="tab-content" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5>Mis Investigaciones</h5>
                            <button class="btn btn-primary btn-sm">
                                <i class="fas fa-plus me-1"></i>Nueva Investigación
                            </button>
                        </div>
                        <div id="researchList">
                            <p class="text-center text-muted">Cargando investigaciones...</p>
                        </div>
                    </div>
                    
                    <!-- Articles Tab -->
                    <div id="articles-tab" class="tab-content" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5>Artículos</h5>
                            <button class="btn btn-primary btn-sm">
                                <i class="fas fa-upload me-1"></i>Cargar Artículos
                            </button>
                        </div>
                        <div id="articlesList">
                            <p class="text-center text-muted">Cargando artículos...</p>
                        </div>
                    </div>
                    
                    <!-- Models Tab -->
                    <div id="models-tab" class="tab-content" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5>Modelos Entrenados</h5>
                            <button class="btn btn-primary btn-sm">
                                <i class="fas fa-cogs me-1"></i>Entrenar Modelo
                            </button>
                        </div>
                        <div id="modelsList">
                            <p class="text-center text-muted">Cargando modelos...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/dashboard.js"></script>
{% endblock %}